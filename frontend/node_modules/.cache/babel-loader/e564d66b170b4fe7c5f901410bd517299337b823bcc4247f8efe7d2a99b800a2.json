{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\session\\\\Desktop\\\\RENDERBOX\\\\frontend\\\\src\\\\Components\\\\ChatCard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { FaCommentDots, FaPaperPlane, FaTimes } from \"react-icons/fa\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatCard = startChat => {\n  _s();\n  const [showPopup, setShowPopup] = useState(startChat || false);\n  const [email, setEmail] = useState('');\n  const [messages, setMessages] = useState([]);\n  const supportResponses = [\"Comment puis-je vous aider ?\", \"Pouvez-vous préciser votre demande ?\", \"Je suis là pour vous aider.\", \"Je comprends. Que puis-je faire d'autre pour vous ?\"];\n  useEffect(() => {\n    if (startChat) {\n      setShowPopup(true);\n    }\n  }, [startChat]);\n  const sendMessage = (messageText, sender = 'user') => {\n    if (messageText.trim() === '') return; // Do not send empty messages\n\n    setMessages(prev => [...prev, {\n      text: messageText,\n      sender\n    }]);\n    if (sender === 'user') {\n      const randomIndex = Math.floor(Math.random() * supportResponses.length);\n      const supportMessage = supportResponses[randomIndex];\n      setTimeout(() => {\n        setMessages(prev => [...prev, {\n          text: supportMessage,\n          sender: 'support'\n        }]);\n      }, 1000);\n    }\n  };\n  const scrollToBottom = () => {\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollTop = messagesEndRef.current.scrollHeight;\n    }\n  };\n  const messagesEndRef = useRef(null);\n  useEffect(scrollToBottom, [messages]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-card-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"chat-btn\",\n      onClick: () => setShowPopup(!showPopup),\n      children: /*#__PURE__*/_jsxDEV(FaCommentDots, {\n        size: 24\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), showPopup && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-popup\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav-bar\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Support Chat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-btn\",\n          onClick: () => setShowPopup(false),\n          children: /*#__PURE__*/_jsxDEV(FaTimes, {\n            color: \"white\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"messages-area\",\n        ref: messagesEndRef,\n        children: messages.map((msg, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `message ${msg.sender}`,\n          style: {\n            backgroundColor: msg.sender === 'support' ? '#F5F5F5' : '#939292',\n            color: msg.sender === 'support' ? 'black' : 'white'\n          },\n          children: msg.text\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sender-area\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"send-input\",\n          placeholder: \"Envoyez un message...\",\n          onKeyDown: e => {\n            if (e.key === 'Enter') {\n              sendMessage(e.target.value);\n              e.target.value = ''; // Reset input field\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"send\",\n          onClick: () => {\n            const inputElem = document.querySelector('.send-input');\n            sendMessage(inputElem.value);\n            inputElem.value = ''; // Reset input field\n          },\n          children: /*#__PURE__*/_jsxDEV(FaPaperPlane, {\n            style: {\n              color: \"white\",\n              fontSize: '25px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n};\n_s(ChatCard, \"zg0YSqtGXsBf1FhzXREMqGqxkhI=\");\n_c = ChatCard;\nexport default ChatCard;\nvar _c;\n$RefreshReg$(_c, \"ChatCard\");","map":{"version":3,"names":["React","useEffect","useRef","useState","FaCommentDots","FaPaperPlane","FaTimes","jsxDEV","_jsxDEV","ChatCard","startChat","_s","showPopup","setShowPopup","email","setEmail","messages","setMessages","supportResponses","sendMessage","messageText","sender","trim","prev","text","randomIndex","Math","floor","random","length","supportMessage","setTimeout","scrollToBottom","messagesEndRef","current","scrollTop","scrollHeight","className","children","onClick","size","fileName","_jsxFileName","lineNumber","columnNumber","color","ref","map","msg","idx","style","backgroundColor","type","placeholder","onKeyDown","e","key","target","value","inputElem","document","querySelector","fontSize","_c","$RefreshReg$"],"sources":["C:/Users/session/Desktop/RENDERBOX/frontend/src/Components/ChatCard.js"],"sourcesContent":["import React, {useEffect, useRef, useState} from 'react';\r\nimport { FaCommentDots, FaPaperPlane, FaTimes } from \"react-icons/fa\";\r\n\r\nconst ChatCard = (startChat) => {\r\n    const [showPopup, setShowPopup] = useState(startChat || false);\r\n    const [email, setEmail] = useState('');\r\n    const [messages, setMessages] = useState([]);\r\n\r\n    const supportResponses = [\r\n        \"Comment puis-je vous aider ?\",\r\n        \"Pouvez-vous préciser votre demande ?\",\r\n        \"Je suis là pour vous aider.\",\r\n        \"Je comprends. Que puis-je faire d'autre pour vous ?\"\r\n    ];\r\n    useEffect(() => {\r\n        if (startChat) {\r\n            setShowPopup(true);\r\n        }\r\n    }, [startChat]);\r\n    const sendMessage = (messageText, sender = 'user') => {\r\n        if (messageText.trim() === '') return; // Do not send empty messages\r\n\r\n        setMessages(prev => [...prev, { text: messageText, sender }]);\r\n        if (sender === 'user') {\r\n            const randomIndex = Math.floor(Math.random() * supportResponses.length);\r\n            const supportMessage = supportResponses[randomIndex];\r\n            setTimeout(() => {\r\n                setMessages(prev => [...prev, { text: supportMessage, sender: 'support' }]);\r\n            }, 1000);\r\n        }\r\n    }\r\n    const scrollToBottom = () => {\r\n        if (messagesEndRef.current) {\r\n            messagesEndRef.current.scrollTop = messagesEndRef.current.scrollHeight;\r\n        }\r\n    };\r\n    const messagesEndRef = useRef(null);\r\n    useEffect(scrollToBottom, [messages]);\r\n\r\n    return (\r\n        <div className=\"chat-card-container\">\r\n            <button className=\"chat-btn\" onClick={() => setShowPopup(!showPopup)}>\r\n                <FaCommentDots size={24} />\r\n            </button>\r\n\r\n            {showPopup && (\r\n                <div className=\"chat-popup\">\r\n                    <div className=\"nav-bar\">\r\n                        <h2>Support Chat</h2>\r\n                        <button className=\"close-btn\" onClick={() => setShowPopup(false)}>\r\n                            <FaTimes color=\"white\" />\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"messages-area\" ref={messagesEndRef}>\r\n                        {messages.map((msg, idx) => (\r\n                            <div\r\n                                key={idx}\r\n                                className={`message ${msg.sender}`}\r\n                                style={{ backgroundColor: msg.sender === 'support' ? '#F5F5F5' : '#939292', color: msg.sender === 'support' ? 'black' : 'white' }}\r\n                            >\r\n                                {msg.text}\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n\r\n                        <div className=\"sender-area\">\r\n                            <input type=\"text\" className=\"send-input\" placeholder=\"Envoyez un message...\"\r\n                                   onKeyDown={(e) => {\r\n                                       if (e.key === 'Enter') {\r\n                                           sendMessage(e.target.value);\r\n                                           e.target.value = ''; // Reset input field\r\n                                       }\r\n                                   }}\r\n                            />\r\n                            <button className=\"send\" onClick={() => {\r\n                                const inputElem = document.querySelector('.send-input');\r\n                                sendMessage(inputElem.value);\r\n                                inputElem.value = ''; // Reset input field\r\n                            }}>\r\n                                <FaPaperPlane style={{ color: \"white\", fontSize: '25px' }} />\r\n                            </button>\r\n                        </div>\r\n\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ChatCard;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}